<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Soufflé Test Kitchen — Figma Shell</title>
  <meta name="description" content="Start from the Figma mock, with a simple toggle to the MVP dashboard."/>
  <link rel="icon" href="/favicon.png" type="image/png" />
  <style>
    :root { --ink:#1f2937; --muted:#6b7280; --brand:#667eea; --bg:#f3f4f6; --card:#fff; }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh}
    .wrap{max-width:1200px;margin:0 auto;padding:24px}
    .card{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-radius:16px;box-shadow:0 20px 40px rgba(0,0,0,.1);padding:20px}
    .top{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
    .logo{font-weight:800;color:#667eea}
    .tabs{display:flex;gap:8px}
    .tab{border:0;border-radius:999px;padding:10px 14px;background:#eef2ff;color:#111827;cursor:pointer}
    .tab.active{background:#c7d2fe;font-weight:700}
    .panel{margin-top:10px}
    .row{display:flex;gap:8px;align-items:center;margin:10px 0}
    input[type=text]{flex:1;padding:10px;border:1px solid #e5e7eb;border-radius:8px}
    .btn{border:0;background:#667eea;color:#fff;padding:10px 14px;border-radius:8px;cursor:pointer}
    iframe{width:100%;height:70vh;border:1px solid #e5e7eb;border-radius:12px;background:#fff}
    .muted{color:#6b7280;font-size:14px}
    /* MVP placeholder styles */
    .mvp{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .metric{background:#fff;padding:12px;border-radius:12px;border-left:4px solid #667eea;text-align:center}
    .metric h2{font-size:22px;margin-bottom:4px}
    .metric p{font-size:12px;color:#6b7280;letter-spacing:.5px;text-transform:uppercase}
    @media(max-width:900px){ .mvp{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="top">
        <div class="logo">soufflé — TEST KITCHEN</div>
        <div class="tabs">
          <button class="tab active" id="tabFigma">Figma Mock</button>
          <button class="tab" id="tabMVP">MVP Dashboard</button>
        </div>
      </div>

      <div id="figmaPanel" class="panel">
        <p class="muted">Paste your Figma <strong>embed</strong> URL below (File → Share → Embed) and click Load. We store it locally so it persists between visits.</p>
        <div class="row">
          <input type="text" id="figmaUrl" placeholder="https://www.figma.com/embed?embed_host=share&url=..."/>
          <button class="btn" id="loadFigma">Load</button>
        </div>
        <iframe id="figmaFrame" src="" allowfullscreen></iframe>
      </div>

      <div id="mvpPanel" class="panel" style="display:none">
        <p class="muted">This is the simple MVP view you shipped—kept intact as the baseline.</p>
        <div class="mvp" style="margin:10px 0 16px">
          <div class="metric"><h2>$2.1B</h2><p>Addressable Market</p></div>
          <div class="metric"><h2>8</h2><p>White Space Segments</p></div>
          <div class="metric"><h2>91%</h2><p>Data Confidence</p></div>
          <div class="metric"><h2>12 mo</h2><p>Time to Market</p></div>
        </div>
        <iframe src="/index.html" style="height:70vh;border:1px solid #e5e7eb;border-radius:12px;background:#fff"></iframe>
        <p class="muted" style="margin-top:8px">Tip: Once your Figma becomes actionable, we’ll swap this iframe for the live data view.</p>
      </div>
    </div>
  </div>

  <script>
    // Tabs
    const tabF = document.getElementById('tabFigma');
    const tabM = document.getElementById('tabMVP');
    const figmaPanel = document.getElementById('figmaPanel');
    const mvpPanel = document.getElementById('mvpPanel');
    function switchTab(which){
      if(which==='figma'){tabF.classList.add('active');tabM.classList.remove('active');figmaPanel.style.display='block';mvpPanel.style.display='none';}
      else{tabM.classList.add('active');tabF.classList.remove('active');figmaPanel.style.display='none';mvpPanel.style.display='block';}
    }
    tabF.addEventListener('click',()=>switchTab('figma'));
    tabM.addEventListener('click',()=>switchTab('mvp'));

    // Figma embed loader w/ localStorage
    const input = document.getElementById('figmaUrl');
    const iframe = document.getElementById('figmaFrame');
    const saved = localStorage.getItem('souffle_figma_embed');
    if(saved){ input.value = saved; iframe.src = saved; }
    document.getElementById('loadFigma').addEventListener('click',()=>{
      const url = input.value.trim();
      if(!url || !url.startsWith('https://www.figma.com/embed')){ alert('Please paste a valid Figma EMBED URL.'); return; }
      localStorage.setItem('souffle_figma_embed', url);
      iframe.src = url;
    });
  </script>
</body>
</html>
