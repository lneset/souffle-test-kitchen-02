<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Soufflé Test Kitchen — Market Expansion Dashboard</title>
  <meta name="description" content="Interactive market expansion dashboard with exportable 16:9 one‑pager." />
  <meta property="og:title" content="Soufflé Test Kitchen — Market Expansion Dashboard" />
  <meta property="og:description" content="Add a logo and about blurb, then export a 16:9 one‑pager (PNG/PDF)." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/social.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Soufflé Test Kitchen — Market Expansion Dashboard" />
  <meta name="twitter:description" content="Add a logo and about blurb, then export a 16:9 one‑pager (PNG/PDF)." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #2d3748;
    }
    .dashboard-container { max-width: 1440px; margin: 0 auto; padding: 24px; min-height: 100vh; }
    .header, .chart-section, .concepts-section, .methodology-section {
      background: rgba(255,255,255,0.96);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      margin-bottom: 24px;
    }
    .logo-section { display: flex; align-items: center; justify-content: space-between; gap: 16px; margin-bottom: 12px; }
    .logo { font-size: 28px; font-weight: 700; color: #667eea; letter-spacing: 0.5px; }
    .test-kitchen-badge { background: linear-gradient(135deg, #ff6b6b, #ffd93d); color: #fff; padding: 6px 14px; border-radius: 18px; font-size: 12px; font-weight: 700; }
    .title { font-size: 24px; font-weight: 700; color: #2d3748; margin-top: 4px; }
    .subtitle { color: #718096; margin-top: 4px; }

    .controls {
      display: grid; grid-template-columns: repeat(12, 1fr); gap: 12px; margin-top: 10px;
    }
    .controls .field { grid-column: span 3; display: flex; flex-direction: column; gap: 6px; }
    .controls .field.wide { grid-column: span 6; }
    .controls label { font-size: 12px; font-weight: 600; color: #4a5568; }
    .controls input, .controls textarea, .controls button {
      border: 1px solid #e2e8f0; border-radius: 10px; padding: 10px 12px; font: inherit; background: #fff;
    }
    .controls textarea { min-height: 64px; resize: vertical; }
    .controls .actions { grid-column: span 12; display: flex; gap: 10px; flex-wrap: wrap; }
    .btn {
      background: #667eea; color: #fff; font-weight: 700; border: none; cursor: pointer;
      transition: transform 0.08s ease; box-shadow: 0 6px 14px rgba(102,126,234,0.25);
    }
    .btn.secondary { background: #2d3748; }
    .btn:active { transform: translateY(1px); }

    .metrics-overview { display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); margin-top: 18px; }
    .metric-card { background: #fff; border-radius: 14px; padding: 16px; text-align: center; border-left: 4px solid; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
    .metric-card.market-size { border-left-color: #667eea; }
    .metric-card.opportunities { border-left-color: #ff6b6b; }
    .metric-card.confidence { border-left-color: #4ecdc4; }
    .metric-card.timeline { border-left-color: #ffd93d; }
    .metric-value { font-size: 28px; font-weight: 800; }
    .metric-label { font-size: 12px; color: #718096; letter-spacing: 0.6px; text-transform: uppercase; }

    .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
    .chart-title { font-weight: 700; margin-bottom: 12px; }

    /* --- 16:9 One-Pager --- */
    .onepager-wrapper { background: rgba(255,255,255,0.96); border-radius: 20px; padding: 16px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
    .onepager-note { color: #4a5568; font-size: 13px; margin-bottom: 8px; }
    .onepager {
      width: 1920px; height: 1080px; background: #ffffff; color: #1a202c; border-radius: 18px; padding: 28px;
      display: grid; grid-template-rows: auto auto 1fr auto; gap: 16px;
    }
    .op-header { display: grid; grid-template-columns: 80px 1fr 220px; gap: 16px; align-items: center; }
    .op-logo { width: 80px; height: 80px; border-radius: 12px; border: 1px solid #e2e8f0; display: grid; place-items: center; overflow: hidden; }
    .op-logo img { max-width: 100%; max-height: 100%; object-fit: contain; }
    .op-title { display: flex; flex-direction: column; gap: 6px; }
    .op-title h1 { margin: 0; font-size: 36px; }
    .op-title p { margin: 0; color: #4a5568; }
    .op-badge { justify-self: end; align-self: start; background: linear-gradient(135deg, #ff6b6b, #ffd93d); color: #fff; padding: 8px 14px; border-radius: 18px; font-weight: 800; letter-spacing: 0.5px; }

    .op-about { background: #f7fafc; border: 1px solid #edf2f7; border-radius: 12px; padding: 12px 14px; font-size: 16px; color: #2d3748; }

    .op-metrics { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
    .op-metric { background: #fff; border: 1px solid #edf2f7; border-radius: 12px; padding: 12px; text-align: center; }
    .op-metric .v { font-size: 28px; font-weight: 800; color: #2d3748; }
    .op-metric .l { font-size: 12px; text-transform: uppercase; color: #718096; letter-spacing: 0.5px; }

    .op-charts { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .op-chart-card { background: #fff; border: 1px solid #edf2f7; border-radius: 12px; padding: 12px; }
    .op-chart-title { font-weight: 700; margin-bottom: 6px; }

    .op-footer { display: flex; justify-content: space-between; align-items: center; color: #4a5568; font-size: 14px; }
    .brand { font-weight: 700; color: #667eea; }

    @media (max-width: 900px) {
      .onepager { transform: scale(0.5); transform-origin: top left; width: 960px; height: 540px; }
    }
  </style>
</head>
<body>
  <div class="dashboard-container">
    <!-- Header -->
    <div class="header">
      <div class="logo-section">
        <div class="logo">soufflé</div>
        <div class="test-kitchen-badge">TEST KITCHEN</div>
      </div>
      <div class="title" id="pageTitle">Market Expansion Dashboard</div>
      <div class="subtitle" id="pageSubtitle">Add logo & company context, then export a 16:9 one‑pager.</div>

      <!-- Controls -->
      <div class="controls">
        <div class="field">
          <label for="companyName">Company name</label>
          <input id="companyName" type="text" placeholder="e.g., Redmond" value="Acme Co." />
        </div>
        <div class="field">
          <label for="logoUrl">Logo URL (optional)</label>
          <input id="logoUrl" type="url" placeholder="https://…" />
        </div>
        <div class="field">
          <label for="logoFile">Logo upload (optional)</label>
          <input id="logoFile" type="file" accept="image/*" />
        </div>
        <div class="field wide">
          <label for="about">About / context</label>
          <textarea id="about" placeholder="Short description or positioning notes for this company."></textarea>
        </div>

        <div class="field">
          <label for="metricMarket">Market Size</label>
          <input id="metricMarket" type="text" value="$2.1B" />
        </div>
        <div class="field">
          <label for="metricSegments">White Space Segments</label>
          <input id="metricSegments" type="text" value="8" />
        </div>
        <div class="field">
          <label for="metricConfidence">Data Confidence</label>
          <input id="metricConfidence" type="text" value="91%" />
        </div>
        <div class="field">
          <label for="metricTimeline">Time to Market</label>
          <input id="metricTimeline" type="text" value="12mo" />
        </div>

        <div class="actions">
          <button id="apply" class="btn">Apply to Dashboard + One‑Pager</button>
          <button id="downloadPng" class="btn secondary">Download One‑Pager (PNG)</button>
          <button id="downloadPdf" class="btn secondary">Download One‑Pager (PDF)</button>
        </div>
      </div>
    </div>

    <!-- Existing metrics + charts (quick preview area) -->
    <div class="main-grid">
      <div class="chart-section">
        <div class="chart-title">Market Expansion Opportunities</div>
        <div style="position:relative;height:300px;margin-bottom:10px;"><canvas id="marketChart"></canvas></div>
      </div>
      <div class="chart-section">
        <div class="chart-title">Product Design Evolution Needs</div>
        <div style="position:relative;height:300px;margin-bottom:10px;"><canvas id="gapChart"></canvas></div>
      </div>
    </div>

    <!-- 16:9 One-Pager Preview + Export -->
    <div class="onepager-wrapper">
      <div class="onepager-note">One‑Pager Preview (exact 1920×1080 export area):</div>
      <section id="onePager" class="onepager">
        <div class="op-header">
          <div class="op-logo"><img id="opLogo" alt="Company Logo" /></div>
          <div class="op-title">
            <h1 id="opTitle">Acme Co. — Market Expansion Dashboard</h1>
            <p id="opSubtitle">Soufflé Test Kitchen — White Space & Design Strategy</p>
          </div>
          <div class="op-badge">16:9 ONE‑PAGER</div>
        </div>

        <div id="opAbout" class="op-about">Use the controls above to paste a logo URL or upload a logo, write a short context blurb, and update headline metrics. Then click “Download One‑Pager (PNG/PDF)”.</div>

        <div class="op-metrics">
          <div class="op-metric"><div id="opMarket" class="v">$2.1B</div><div class="l">Addressable Market</div></div>
          <div class="op-metric"><div id="opSegments" class="v">8</div><div class="l">White Space Segments</div></div>
          <div class="op-metric"><div id="opConfidence" class="v">91%</div><div class="l">Data Confidence</div></div>
          <div class="op-metric"><div id="opTimeline" class="v">12mo</div><div class="l">Time to Market</div></div>
        </div>

        <div class="op-charts">
          <div class="op-chart-card">
            <div class="op-chart-title">Market Expansion Opportunities</div>
            <canvas id="opMarketChart" width="600" height="320"></canvas>
          </div>
          <div class="op-chart-card">
            <div class="op-chart-title">Product Design Evolution</div>
            <canvas id="opGapChart" width="600" height="320"></canvas>
          </div>
        </div>

        <div class="op-footer">
          <div>Generated by the <span class="brand">Soufflé Test Kitchen</span></div>
          <div id="opDate"></div>
        </div>
      </section>
    </div>
  </div>

  <script>
    // --- Charts (dashboard) ---
    const doughnutData = {
      labels: ['Education (Current)', 'Enterprise Wellness', 'Consumer Home', 'Healthcare', 'Hospitality'],
      datasets: [{ data: [35, 25, 20, 12, 8],
        backgroundColor: ['#667eea','#ff6b6b','#4ecdc4','#ffd93d','#9b59b6'], borderWidth: 0 }] };
    const radarData = {
      labels: ['User Experience', 'Manufacturing', 'Brand Position', 'Technology', 'Market Reach', 'Scalability'],
      datasets: [
        { label: 'Current', data: [7,8,6,5,7,6], backgroundColor: 'rgba(102,126,234,0.2)', borderColor:'#667eea', borderWidth:2 },
        { label: 'Expansion Potential', data: [9,8,9,8,10,9], backgroundColor: 'rgba(255,107,107,0.2)', borderColor:'#ff6b6b', borderWidth:2 }
      ]
    };

    const marketChart = new Chart(document.getElementById('marketChart').getContext('2d'), {
      type: 'doughnut', data: doughnutData, options: {
        responsive: true, maintainAspectRatio: false,
        plugins: { legend: { position: 'bottom', labels: { padding: 16, font: { size: 12 } } } }
      }
    });
    const gapChart = new Chart(document.getElementById('gapChart').getContext('2d'), {
      type: 'radar', data: radarData, options: {
        responsive: true, maintainAspectRatio: false,
        scales: { r: { beginAtZero: true, max: 10, ticks: { stepSize: 2 } } },
        plugins: { legend: { position: 'bottom', labels: { padding: 16, font: { size: 12 } } } }
      }
    });

    // --- Charts (one-pager) ---
    const opMarketChart = new Chart(document.getElementById('opMarketChart').getContext('2d'), {
      type: 'doughnut', data: doughnutData, options: {
        responsive: false, maintainAspectRatio: false,
        plugins: { legend: { display: false } }
      }
    });
    const opGapChart = new Chart(document.getElementById('opGapChart').getContext('2d'), {
      type: 'radar', data: radarData, options: {
        responsive: false, maintainAspectRatio: false,
        scales: { r: { beginAtZero: true, max: 10, ticks: { stepSize: 2 } } },
        plugins: { legend: { display: false } }
      }
    });

    // --- Apply controls to one-pager + header metrics ---
    const $ = (id) => document.getElementById(id);
    function applyAll() {
      const name = $('companyName').value.trim() || 'Untitled Company';
      const about = $('about').value.trim();
      $('pageTitle').textContent = name + ' — Market Expansion Dashboard';
      $('opTitle').textContent = name + ' — Market Expansion Dashboard';
      $('opSubtitle').textContent = 'Soufflé Test Kitchen — White Space & Design Strategy';
      $('opAbout').textContent = about || '—';

      // Metrics
      $('opMarket').textContent = $('metricMarket').value || '$—';
      $('opSegments').textContent = $('metricSegments').value || '—';
      $('opConfidence').textContent = $('metricConfidence').value || '—';
      $('opTimeline').textContent = $('metricTimeline').value || '—';

      // Logo from URL (if provided)
      const url = $('logoUrl').value.trim();
      if (url) $('opLogo').src = url;

      // Date stamp
      $('opDate').textContent = new Date().toLocaleString();
    }

    $('apply').addEventListener('click', applyAll);

    // Logo from file upload
    $('logoFile').addEventListener('change', function(e) {
      const file = e.target.files && e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(ev) { $('opLogo').src = ev.target.result; };
      reader.readAsDataURL(file);
    });

    // --- Export helpers ---
    async function downloadPNG() {
      const el = $('onePager');
      const canvas = await html2canvas(el, { scale: 2, useCORS: true, backgroundColor: '#ffffff' });
      const link = document.createElement('a');
      link.download = 'souffle-onepager.png';
      link.href = canvas.toDataURL('image/png');
      link.click();
    }
    async function downloadPDF() {
      const el = $('onePager');
      const canvas = await html2canvas(el, { scale: 2, useCORS: true, backgroundColor: '#ffffff' });
      const img = canvas.toDataURL('image/png');
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({ orientation: 'landscape', unit: 'px', format: [1920, 1080] });
      pdf.addImage(img, 'PNG', 0, 0, 1920, 1080);
      pdf.save('souffle-onepager.pdf');
    }
    $('downloadPng').addEventListener('click', downloadPNG);
    $('downloadPdf').addEventListener('click', downloadPDF);

    // Initialize defaults
    applyAll();
  </script>
</body>
</html>
